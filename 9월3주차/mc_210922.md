# 수요일

## 스코프란?

* 모든 식별자 (변수 이름, 함수 이름, 클래스 이름 등)은 자신이 선언된 위치에 의해 다른 코드가 식별자 자신을 참조할 수 있는 유효 범위가 결정된다. 이를 스코프라 한다.
* 즉 스코프는 식별자가 유효한 범위를 말한다.

## 렉시컬 환경과 스코프, 실행 컨텍스트의 연관성

* JS 엔진은 코드를 실행할 때 코드의 문맥을 고려한다.
* 코드가 어디서 실행되며, 주변에 어떤 코드가 있는지를 렉시컬 환경 이라고 한다.
* 즉, 코드의 문맥(context)은 렉시컬 환경으로 이뤄진다. 이를 구현한 것이 실행 컨텍스트 이다.
* 모든 코드는 실행 컨텍스트에서 평가되고 실행된다.

## 변수의 스코프 결정 시점

* 변수는 자신이 선언된 위치(전역 또는 지역)에 의해 자신이 유효한 범위인 스코프가 결정된다.

## 스코프 체인

* 모든 스코프는 하나의 계층적 구조로 연결되며, 모든 지역 스코프의 최상위 스코프는 전역 스코프다. 이렇게 스코프가 계층적으로 연결된 것을 스코프 체인 이라고 한다.
* 변수(식별자)를 참조할 때 JS 엔진은 스코프 체인을 통해 변수(식별자)를 참조하는 코드의 스코프에서 시작하여 상위 스코프 방향으로 이동하며 선언된 변수(식별자)를 검색한다.
* 이러한 스코프 체인은 물리적인 실체로 존재한다. JS 엔진은 코드를 실행하기 앞서 렉시컬 환경을 실제로 생성하기 때문.

## 렉시컬 스코프

* 함수를 어디서 호출했는지가 아닌, **어디서 정의했는지에 따라** 상위 스코프가 결정된다.
* 즉 함수의 상위 스코프는 언제나 자신이 정의가 실행될 때 정적으로 결정된다.
* 함수가 호출될 때마다 함수의 상위 스코프를 참조할 필요가 있기 때문.
